{"ast":null,"code":"var _jsxFileName = \"/Users/bagjuhong/Desktop/ian/client/src/web/components/contentsComponents/MakePictures.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MakePictures() {\n  _s();\n\n  /*\n      서버에서 S3로 이미지파일을 업로드하는 웹페이지를 html코드로 보내줄 것이다\n      이 컴포넌트에서는 그걸 ajax로 rest api get요청 사용해서 받고 뿌려주면 됨 \n  */\n  // const [forRendering, setForRendering] = useState(<></>);\n  const [selectedFile, setSelectedFile] = useState(null); // onChange역할\n\n  const handleFileChange = event => {\n    console.log('handleFileChange => event.target : ', event.target.files[0]);\n    setSelectedFile(event.target.files[0]);\n  };\n\n  const handleFileUpload = () => {\n    const formData = new FormData();\n    formData.append(\"userfile\", selectedFile, selectedFile.name);\n    console.log('formData : ', formData);\n    axios.post(\"http://localhost:3001/uploadfile\", {\n      formData\n    }) // 여기서 {} 객체로 감싸면 req.body로 받을 수 있다.\n    .then(res => {\n      console.log(res);\n    }).catch(err => {\n      console.log(err);\n    });\n    return;\n  };\n\n  useEffect(() => {// axios.get('http://localhost:3001/awssdk')\n    // .then((response)=>{\n    //     // console.log('response : ', response);\n    //     setForRendering(response.data);\n    // })\n    // .catch((error) => {\n    //     console.log(error);\n    //     setForRendering(<h1>error</h1>);\n    // })\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleFileUpload,\n      children: \"\\uC5C5\\uB85C\\uB4DC!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MakePictures, \"Wvj+gpJAJfE3yy+sFlZ4YM6XMAM=\");\n\n_c = MakePictures;\nexport default MakePictures;\n\nvar _c;\n\n$RefreshReg$(_c, \"MakePictures\");","map":{"version":3,"sources":["/Users/bagjuhong/Desktop/ian/client/src/web/components/contentsComponents/MakePictures.jsx"],"names":["React","useState","useEffect","axios","MakePictures","selectedFile","setSelectedFile","handleFileChange","event","console","log","target","files","handleFileUpload","formData","FormData","append","name","post","then","res","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,SAASC,YAAT,GAAwB;AAAA;;AACpB;AACJ;AACA;AACA;AAEI;AAEA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCL,QAAQ,CAAC,IAAD,CAAhD,CARoB,CAUpB;;AACA,QAAMM,gBAAgB,GAAIC,KAAD,IAAW;AAChCC,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAnD;AACAN,IAAAA,eAAe,CAACE,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAf;AACH,GAHD;;AAIA,QAAMC,gBAAgB,GAAG,MAAM;AAC3B,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BX,YAA5B,EAA0CA,YAAY,CAACY,IAAvD;AAEAR,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BI,QAA3B;AAEAX,IAAAA,KAAK,CAACe,IAAN,CAAW,kCAAX,EAA+C;AAAEJ,MAAAA;AAAF,KAA/C,EAA6D;AAA7D,KACCK,IADD,CACMC,GAAG,IAAI;AACXX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACD,KAHD,EAICC,KAJD,CAIOC,GAAG,IAAI;AACZb,MAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ;AACD,KAND;AAQA;AACH,GAhBD;;AAkBApB,EAAAA,SAAS,CAAC,MAAM,CACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,GAVQ,EAUN,EAVM,CAAT;AAYA,sBACI;AAAA,4BACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAEK;AAA7B;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAQ,MAAA,OAAO,EAAEM,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GAnDQT,Y;;KAAAA,Y;AAqDT,eAAeA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n\nfunction MakePictures() {\n    /*\n        서버에서 S3로 이미지파일을 업로드하는 웹페이지를 html코드로 보내줄 것이다\n        이 컴포넌트에서는 그걸 ajax로 rest api get요청 사용해서 받고 뿌려주면 됨 \n    */\n\n    // const [forRendering, setForRendering] = useState(<></>);\n\n    const [selectedFile, setSelectedFile] = useState(null);\n\n    // onChange역할\n    const handleFileChange = (event) => {\n        console.log('handleFileChange => event.target : ', event.target.files[0]);\n        setSelectedFile(event.target.files[0]);\n    };\n    const handleFileUpload = () => {\n        const formData = new FormData();\n     \n        formData.append(\"userfile\", selectedFile, selectedFile.name);\n\n        console.log('formData : ', formData);\n\n        axios.post(\"http://localhost:3001/uploadfile\", { formData }) // 여기서 {} 객체로 감싸면 req.body로 받을 수 있다.\n        .then(res => {\n          console.log(res);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n\n        return;\n    }\n\n    useEffect(() => {\n        // axios.get('http://localhost:3001/awssdk')\n        // .then((response)=>{\n        //     // console.log('response : ', response);\n        //     setForRendering(response.data);\n        // })\n        // .catch((error) => {\n        //     console.log(error);\n        //     setForRendering(<h1>error</h1>);\n        // })\n    }, [])\n\n    return (\n        <div>\n            <input type=\"file\" onChange={handleFileChange} />\n            <button onClick={handleFileUpload}>업로드!</button>\n        </div>\n    )\n}\n\nexport default MakePictures\n"]},"metadata":{},"sourceType":"module"}